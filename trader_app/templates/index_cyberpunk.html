<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberJackal MKVI - Trading Terminal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Source+Code+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="/static/css/cyberpunk.css" rel="stylesheet">
</head>
<body>
    <div class="main-container">
        <!-- Header -->
        <div class="header">
            <div class="panel">
                <h1><i class="fas fa-robot"></i> CyberJackal MKVI Trading Terminal</h1>
                <div style="font-size: 14px; margin-top: 8px; opacity: 0.8;">
                    Institutional-Grade Autonomous Trading System
                </div>
            </div>
        </div>

        <!-- Performance Metrics -->
        <div class="performance-metrics">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-chart-line"></i> Portfolio Performance</h2>
                </div>
                <div id="kpi-content">
                    <div class="metric-card">
                        <div class="metric-label">Total Value</div>
                        <div class="metric-value text-positive" id="portfolio-value">$10,000.00</div>
                        <div class="metric-change text-positive">
                            <i class="fas fa-arrow-up"></i> 0.00%
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Daily P&L</div>
                        <div class="metric-value" id="daily-pnl">$0.00</div>
                        <div class="metric-change">
                            <i class="fas fa-minus"></i> 0.00%
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Holdings -->
        <div class="holdings">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-wallet"></i> Current Holdings</h2>
                </div>
                <div id="holdings-content" style="max-height: 250px; overflow-y: auto;">
                    <!-- Holdings will be populated by JS -->
                </div>
            </div>
        </div>

        <!-- Main Chart -->
        <div class="main-chart">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-chart-area"></i> Portfolio Chart</h2>
                </div>
                <canvas id="portfolio-chart" style="max-height: 250px;"></canvas>
            </div>
        </div>

        <!-- Token Details -->
        <div class="token-details">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-coins"></i> Token Analytics</h2>
                </div>
                <div id="token-details-content">
                    <div style="text-align: center; color: var(--text-secondary); margin-top: 40px;">
                        <i class="fas fa-mouse-pointer" style="font-size: 24px; margin-bottom: 8px;"></i>
                        <div>Click a holding to view details</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Analysis -->
        <div class="ai-analysis">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-brain"></i> AI Market Analysis</h2>
                </div>
                <div id="ai-analysis-content">
                    <div style="text-align: center; color: var(--text-warning); margin-top: 40px;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 24px; margin-bottom: 8px;"></i>
                        <div>AI Service Not Configured</div>
                        <div style="font-size: 11px; margin-top: 4px;">Set INTERNAL_AI_SERVICE_URL</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Alpha Stream -->
        <div class="alpha-stream">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-stream"></i> Alpha Signals</h2>
                </div>
                <div id="alpha-stream-content">
                    <div style="text-align: center; color: var(--text-secondary); margin-top: 40px;">
                        <i class="fas fa-satellite-dish" style="font-size: 24px; margin-bottom: 8px;"></i>
                        <div>Monitoring Market Regimes</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Strategy Playground -->
        <div class="strategy-playground">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-cogs"></i> Strategy Engine</h2>
                </div>
                <div id="strategy-playground-content">
                    <div class="metric-card">
                        <div class="metric-label">Active Strategy</div>
                        <div class="metric-value" style="font-size: 18px;">V4 Pro</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Market Regime</div>
                        <div class="metric-value status-neutral" id="current-regime">Neutral</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pairs Scanner -->
        <div class="pairs-scanner">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-search"></i> Market Scanner</h2>
                </div>
                <div id="pairs-scanner-content">
                    <div style="text-align: center; color: var(--text-secondary); margin-top: 40px;">
                        <i class="fas fa-radar" style="font-size: 24px; margin-bottom: 8px;"></i>
                        <div>Scanning 5 Symbols</div>
                        <div style="font-size: 11px; margin-top: 4px;">BTC, ETH, SOL, DOGE, WIF</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Portfolio Optimization -->
        <div class="portfolio-optimization">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-balance-scale"></i> Risk Management</h2>
                </div>
                <div id="portfolio-optimization-content">
                    <div class="metric-card">
                        <div class="metric-label">Max Drawdown</div>
                        <div class="metric-value" style="font-size: 18px;">5.0%</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Risk Level</div>
                        <div class="metric-value status-online">Conservative</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Narrative Exposure -->
        <div class="narrative-exposure">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-newspaper"></i> Sentiment Analysis</h2>
                </div>
                <div id="narrative-exposure-content">
                    <div style="text-align: center; color: var(--text-secondary); margin-top: 40px;">
                        <i class="fas fa-comments" style="font-size: 24px; margin-bottom: 8px;"></i>
                        <div>Real-time News Analysis</div>
                        <div style="font-size: 11px; margin-top: 4px;">NewsAPI Integration Active</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trading Journal -->
        <div class="journal-panel">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title"><i class="fas fa-book"></i> Trading Journal</h2>
                </div>
                <form id="journal-form">
                    <div class="mb-3">
                        <label for="journal-title" class="form-label">Entry Title</label>
                        <input type="text" class="form-control" id="journal-title" required>
                    </div>
                    <div class="mb-3">
                        <label for="journal-content" class="form-label">Analysis & Notes</label>
                        <textarea class="form-control" id="journal-content" rows="3" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="journal-tags" class="form-label">Tags</label>
                        <input type="text" class="form-control" id="journal-tags" placeholder="strategy, signal, news">
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Add Entry
                    </button>
                </form>
                <hr style="border-color: var(--border-color); margin: 20px 0;">
                <div id="journal-entries" style="max-height: 200px; overflow-y: auto;">
                    <!-- Journal entries will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="panel" style="padding: 12px 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; font-size: 12px;">
                    <div>
                        <span class="status-indicator status-online">
                            <i class="fas fa-circle pulse"></i> System Online
                        </span>
                    </div>
                    <div>
                        Market Regime: <span class="status-indicator" id="market-regime-indicator">
                            <i class="fas fa-chart-line"></i> <span id="market-regime">Neutral</span>
                        </span>
                    </div>
                    <div style="color: var(--text-secondary);">
                        Last Update: <span id="last-update">--:--:--</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/js/dashboard.js"></script>
</body>
</html>